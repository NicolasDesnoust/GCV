<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title><ui:insert name="title">GCV</ui:insert></title>
	<h:outputStylesheet library="webjars"
		name="bootstrap/3.3.7/css/bootstrap.min-jsf.css" />
	<h:outputStylesheet library="webjars"
		name="font-awesome/5.12.0/css/all-jsf.css" />
	<h:outputScript library="webjars" name="jquery/1.11.1/jquery.js" />
	<h:outputScript library="webjars"
		name="bootstrap/3.3.7/js/bootstrap.js" />

</h:head>
<h:body>
	<f:view locale="#{languageController.localeCode}" />
	<h:outputStylesheet library="css" name="appStyle.css" />
	<div class="container">
		<h1 style="font-weight: bold; margin-bottom: 0.5em;">
			<h:outputText value="#{messages.app_title}" />
		</h1>
		<h:form>
			<p:growl id="messages" />

			<c:set var="user" value="#{loginController.getCurrentUser()}" />
			<p:menubar>
				<p:menuitem value="Accueil" url="#" icon="fas fa-home" />

				<p:submenu rendered="#{loginController.isUserConnected()}"
					label="Vous" icon="fas fa-user-circle" class="profile">
					<p:menuitem url="#">
						<h:outputText class="capitalized" style="font-weight:bold"
							value="#{user.firstName} #{user.lastName}" />
					</p:menuitem>
					<p:separator />
					<p:menuitem value="Voir le profil" icon="fas fa-id-card" url="#" />
					<p:menuitem value="Éditer le profil" icon="fas fa-edit" url="#" />
					<p:menuitem value="Coopter" icon="fas fa-hands-helping" url="#" />
					<p:separator />
					<p:menuitem value="Se déconnecter" icon="fas fa-sign-out-alt"
						url="#" />
				</p:submenu>

				<p:menuitem value="Paramètres" icon="fas fa-user-cog"
					oncomplete="PF('sidebar').show()" />

				<p:menuitem value="À propos" url="#" icon="fas fa-question-circle" />

				<f:facet name="options" id="op">
					<p:commandButton rendered="#{loginController.isUserConnected()}"
						value="&#160; se déconnecter" icon="pi pi-sign-out"
						style="width:100%" action="#{loginController.logoutUser()}">
					</p:commandButton>
					<p:commandButton
						rendered="#{loginController.isUserConnected() == false}"
						value="&#160; se connecter" icon="fas fa-sign-in-alt"
						style="width:100%" action="#{loginController.showLogin()}">
					</p:commandButton>
				</f:facet>
			</p:menubar>
		</h:form>

		<ui:debug />
		<div>
			<ui:insert name="content">
				<p>CONTENT</p>
			</ui:insert>
			<h:messages />
		</div>

		<footer class="page-footer">
			<div class="footer-copyright text-center py-3">
				<ui:insert name="footer">
					<span>(c) 2020</span>
				</ui:insert>
			</div>
		</footer>
	</div>
	<h:form>
		<p:sidebar style="padding:0em;" widgetVar="sidebar" position="right"
			baseZIndex="10000" blockScroll="true">

			<p:panel style="width:100%;height:100%;margin: 0px !important!"
				styleClass="ui-noborder;ui-panelgrid-blank">
				<f:facet name="header">
					<h3 style="font-weight: bold">Paramètres</h3>
				</f:facet>

				<h4 style="margin-top: 1em">Langue</h4>

				<p:selectOneRadio id="localeRadio"
					value="#{languageController.localeCode}" layout="responsive"
					columns="2">
					<f:selectItems value="#{languageController.countriesInMap.entrySet()}" var="locale" 
    					itemValue="#{locale.value}" itemLabel="#{locale.key}"/>
				</p:selectOneRadio>
				<h:outputText style="margin-top:1em"
					value="Pas d'activités enregistrées Pas d'activités enregistrées 
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistréesPas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées
Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées Pas d'activités enregistrées" />
				
				<f:facet name="footer">
					<div class="ui-inputgroup"
						style="display: inline-block; width: 100%;margin-bottom:0.5em">
						<p:commandButton value="&#160; Retour"
							style="color: #fff;
							background-color: #d9534f;border-color: #d43f3a;width:49%"
							icon="fas fa-arrow-left" oncomplete="PF('sidebar').hide()" />
						<p:commandButton style="margin-left:0.22em;width:49%"
							value="&#160; Appliquer" icon="fas fa-check"
							oncomplete="PF('sidebar').hide()"
							action="#{languageController.changeCountryLocaleCode}"
							ajax="false" />
					</div>
				</f:facet>
			</p:panel>


		</p:sidebar>
	</h:form>
</h:body>
</html>